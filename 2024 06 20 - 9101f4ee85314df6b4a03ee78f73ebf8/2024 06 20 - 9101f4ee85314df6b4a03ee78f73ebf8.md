# 24/06/20 -

ìƒìœ„ í•­ëª©: Week30 (Week30%204d14be1ecff547fa850e841a70655ecf.md)
ì£¼ì°¨: 0011_Week20~29

> 1êµì‹œ ë…¹ìŒë³¸
- [https://clovanote.naver.com/s/tznbxZxn535GWmk7G57QSNS](https://clovanote.naver.com/s/tznbxZxn535GWmk7G57QSNS)

2êµì‹œ ë…¹ìŒë³¸
- [https://clovanote.naver.com/s/g9VyjkfNaPxubAN7DfNEHS](https://clovanote.naver.com/s/g9VyjkfNaPxubAN7DfNEHS)
> 
> 
> [](24%2006%2020%20-%209101f4ee85314df6b4a03ee78f73ebf8/%E1%84%8C%E1%85%A6%E1%84%86%E1%85%A9%E1%86%A8%20%E1%84%8B%E1%85%A5%E1%86%B9%E1%84%8B%E1%85%B3%E1%86%B7%209b4033319c0f403ba0119bed8f4a267b.md)
> 

### ImGUI ìœˆë„ìš°ì˜ ì›ë¦¬

**ImGuiì˜ WindowëŠ” boolê°’ì— ë”°ë¼ì„œ On/Offê°€ ê°€ëŠ¥í•˜ë‹¤**

```cpp
void CEditorMgr::ImGuiTick()
{
	static bool bTest1 = true;
	
	if (bTest1)
	{
		ImGui::Begin("MyTestWindow1", &bTest1)
		// bTest1ê°€ trueì´ê¸° ë•Œë¬¸ì— Begin í•¨ìˆ˜ê°€ í˜¸ì¶œëœ í›„,
		// xë²„íŠ¼ì„ ëˆŒëŸ¬ ì°½ì„ ë‹«ê²Œë˜ë©´ bTestì˜ ê°’ì´ falseë¡œ ë³€í™˜
	
		ImGui::Button("TestBtn");
		ImGui::End();
	}
	else
	{
		// ...
	}
}
```

Beginì˜ ì¸ìë¡œ í•œ bool íƒ€ì… ë³€ìˆ˜ì˜ ì£¼ì†Œë¥¼ ì „ë‹¬í•˜ë©´, 

í•´ë‹¹ ë³€ìˆ˜ì— ë‹´ê¸´ boolê°’ì´ true / falseì¸ì§€ì— ë”°ë¼ì„œ í•´ë‹¹ ìœˆë„ìš°ê°€ on/off ëœë‹¤ 

â†’ í•´ë‹¹ ì¸ìë¥¼ ì¶”ê°€í•˜ë©´ ìš°ìƒë‹¨ì— x ë²„íŠ¼ì´ ìƒê¸°ê²Œ ë˜ê³ , ìœˆë„ìš°ë¥¼ ì¢…ë£Œí•  ìˆ˜ ìˆê²Œ ëœë‹¤

ì •ë¦¬í•˜ìë©´, ImGuiëŠ” ìœˆë„ìš° í•˜ë‚˜ë¥¼ ì •ì˜í•  ë•Œ 

1) `Begin - End`ì˜ ìŒìœ¼ë¡œ ì´ë£¨ì–´ì§€ëŠ” ì„¤ì •

2) í•´ë‹¹ ìœˆë„ìš°ë¥¼ ë‚˜íƒ€ë‚¼ì§€ì— ëŒ€í•œ `bool`ê°’

ì´ í•„ìš”í•˜ë¯€ë¡œ, 

ì´ë¥¼ UI í•˜ë‚˜ë¥¼ ì´ë£¨ëŠ” ê°ì²´ì˜ í•„ìš” ìš”ì†Œë¡œ ì •ì˜í•´ì„œ

imGUIë¥¼ ê°ì²´ì§€í–¥ ë°©ì‹ìœ¼ë¡œ ì¬ì¡°í•©í•˜ê³  í´ë˜ìŠ¤í™” í•´ë³´ì

## imGUIë¥¼ ê°ì²´ì§€í–¥ì ìœ¼ë¡œ ì‚¬ìš©í•˜ê¸°

### imGuiì˜ í•œ ìœˆë„ìš°ë¥¼ í•œ UI ê°ì²´ë¡œ ë§Œë“¤ì–´ ì‚¬ìš©í•˜ì

<aside>
ğŸ“ New Filter!
`Client Project`
> EditorUI

</aside>

**Editor UI ì •ì˜í•˜ê¸°** : ëª¨ë“  UI ê°ì²´ë“¤ì˜ ë¶€ëª¨ í´ë˜ìŠ¤

Editor UIì˜ ê¸°ë³¸ì ì¸ í‹€ì„ ì‘ì„±í•´ë³´ì

```cpp
#include "imGui/imgui.h"

class EditorUI
{
private:
	string    m_Name;            // 1byte ë¬¸ìì—´ ì‚¬ìš©
	bool      m_Active;          // í•´ë‹¹ UIì˜ í™œì„±í™” ì—¬ë¶€

public:
	void SetName(const string& _Name) { m_Name = _Name;  }
	const string& GetName() { return m_Name; }

public:
	virtual void Tick();
	
public:
	EditorUI();
	~EditorUI();     
};
```

```cpp
#include "pch.h"
#include "EditorUI.h"

EditorUI::EditorUI()
	: m_Active(true)
{
}

EditorUI::~EditorUI()
{
}

void EditorUI::Tick()
{
	// í™œì„±í™” ë˜ì–´ ìˆì§€ ì•Šë‹¤ë©´ Beginë˜ì§€ ì•Šë„ë¡
	if (!m_Active)
		return;
	
	ImGui::Begin(m_Name.c_str(), &m_Active);
	ImGui::End();
}

```

í…ŒìŠ¤íŠ¸ ìš©ë„ì˜ Editor UIë¥¼ Editor Managerì—ì„œ ì œì‘í•´ë³´ì

- `m_testUI` â†’ í…ŒìŠ¤íŠ¸ ìš©ë„ë¡œ ì œì‘í•  UI ê°ì²´
- `CreateEditorUI` â†’ í•´ë‹¹ UIë¥¼ ì œì‘í•  í•¨ìˆ˜

```cpp
class CEditorMgr:
	public CSingleton<CEditorMgr>
{
	// ...
	EditorUI*        m_testUI;
	
	// ...
private:
	void CreateEditorUI();
}
```

í•´ë‹¹ UIë¥¼ ì œì‘í•˜ëŠ” í•¨ìˆ˜(`CreateEditorUI`)ëŠ” Editor Managerì˜ ImGUIì„ Inití•˜ëŠ” í•¨ìˆ˜ì˜ ë§ˆì§€ë§‰ ë‹¨ê³„ì—ì„œ í˜¸ì¶œí•˜ì

```cpp
CEditorMgr::Init()
{
	// ...
	// Editor(Tool)ìš© UI ìƒì„±
	CreateEditorUI();
}
// ...
void CEditorMgr::CreateEditorUI()
{
	EditorUI* pUI = nullptr;
	
	pUI = new EditorUI;
	pUI->SetName("testUI");
	m_testUI = pUI;
}
```

ê·¸ë¦¬ê³  í•´ë‹¹ UIì˜ Tickì„ í˜¸ì¶œí•´ì£¼ëŠ” ì‘ì—… ì—­ì‹œ 

ìˆ˜ì—…ë•Œ ë§Œë“¤ UI

1) Outliner : Objectë“¤ì˜ Level ìƒì—ì„œì˜ ìƒíƒœë¥¼ í‘œí˜„í•˜ëŠ” UI

2) Content : Asset Managerì— ë¡œë”©ëœ ì—ì…‹ë“¤ì„ ë³´ì—¬ì£¼ëŠ” UI

3) Inspector : ì§€ì •ëœ ê°ì²´ì˜ ì„¸ë¶€ì‚¬í•­ì„ ë³´ì—¬ì£¼ëŠ” UI

<aside>
ğŸ“ **New Filter!**
`Client Project`
> EditorUI
    > 01. Inspector
    > 02. Content
    > 03. Outliner

</aside>

ë²ˆì™¸) MenuBar 

- Level : Play / Pause / Stop ëª¨ë“œ ë³€ê²½
- GameObject : Component ì¶”ê°€ ë“±ë“± â€¦

ê°ê°ì˜ ê°ì²´ ê°œë…ìœ¼ë¡œ ìƒì„±í•˜ê¸°

ì•ìœ¼ë¡œ Editor UIë¥¼ ìƒì†í•´ ë§Œë“¤ì–´ì§€ëŠ” 3ê°€ì§€ì˜ UIë“¤ì„ ìœ„í•´, í•¨ìˆ˜ë¥¼ ì¶”ê°€

```cpp
virtual void Tick();
virtual void Update();     // UIì˜ ë‚´ìš©ì„ ë³€ê²½í•˜ëŠ” í•¨ìˆ˜
```

### Editor Managerë¥¼ ì„¸ë¶„í™”

Editor Managerì˜ ì—­í• ì„ Object / UI íŒŒíŠ¸ë¡œ ë‚˜ëˆ„ì–´ì„œ êµ¬í˜„í•´ì£¼ì

- CEditorMgr_EditorObject
    - Editor Object ìƒì„±ê³¼ ê´€ë¦¬
- CEditorMgr_EditorUI
    - ImGui ê´€ë ¨ ë‚´ìš©ë“¤
    - UI ìƒì„±ê³¼ ê´€ë¦¬
    

```cpp
class CEditorMgr
{
}
```

```cpp
void CEditorMgr::Tick()
{
	EditorObjectProgress();
}
```

### Inspector UI ì œì‘í•˜ê¸°

```cpp
class Inspector
	: public EditorUI
{
public:
	virtual void Tick();
	virtual void Update() = 0;     // UIì˜ ë‚´ìš©ì„ ë³€ê²½í•˜ëŠ” í•¨ìˆ˜
}
```

```cpp
void CEditorMgr::CreateEditorUI()
{
	EditorUI* pUI = nullptr;
}
```

```cpp
void Inspector::Update()

{

}
```

### Content UI ë§Œë“¤ê¸°

```cpp
class Content :
	public EditorUI
{
private:

public:
	virtual void Update() override;
	
}
```

```cpp
void Content::Update()
{
	// testìš© content
	Vec4 Data;
	ImGui::DragFloat4("data", vData, 
}
```

```cpp
#include "content.h"

EditorMgr::CreateEditorUI()
{
	
}
```

UIë¥¼ On/Offí•˜ê¸° ìœ„í•´ì„  ê°ê° UIì˜ Active ìƒíƒœì¸  true/false ê°’ì„ í†µí•´ ë³€ê²½í•  ìˆ˜ ìˆë‹¤

ë‹¨ì¶•í‚¤ë¥¼ í†µí•´ì„œ UIì˜ Active ìƒíƒœë¥¼ ë³€ê²½í•˜ê¸° ìœ„í•´ Shortcutì„ ë§Œë“¤ì–´ì£¼ì

```cpp
void CEditorMgr::ShortCut()
{
	if (KEY_TAP(KEY::I))
	{
		
	}
}
```

ë³¸ì¸ì˜ í™œì„±í™” ì—¬ë¶€ë¥¼ ì•Œë ¤ì£¼ëŠ” IsActive

Activeì˜ ìƒíƒœë¥¼ On/Offí•  ìˆ˜ ìˆëŠ” Activate / DeActivate

```cpp

```

ì´ë•Œ UIê°€ ë‹´ê¸´ mapì—ì„œ ë‹¨ì¶•í‚¤ì— í•´ë‹¹í•˜ëŠ” UIë¥¼ Findí•´ì„œ â†’ FindEditorUI

```cpp
map<string, EditorUI*>::iterator iter = m_mapUI.find(_Name);

if (iter == m_mapUI.end())
{
	return nullptr;
}

```

```cpp
void CEditor::
```

### UI ê°„ì˜ ê³„ì¸µê´€ê³„ ì œì‘í•˜ê¸°

UIì˜ ê³„ì¸µê´€ê³„ ì œì‘

ë³¸ì¸ì˜ ìì‹ UIë¥¼ ì‹œì‘í•˜ê³  ì‹¶ë‹¤ë©´

â†’ `BeginChild()` - `EndChlid()`

Beginì€ í•˜ë‚˜ì˜ UIì˜ ë‚´ìš©ë“¤ì„ ìŒ“ì•„ê°€ê¸° ì‹œì‘í•˜ëŠ” ë‹¨ê³„,

EndëŠ” ì™„ì„±ëœ UIë¥¼ í™”ë©´ìœ¼ë¡œ êµ¬ì„±í•´ ì¶œë ¥í•˜ëŠ” ë‹¨ê³„

Editor UIë„ ë¶€ëª¨-ìì‹ ê´€ê³„ê°€ ìƒê¸°ê²Œ ë˜ë‹ˆê¹Œ

- Parent UI
- AddChild

```cpp
private:
	EditorUI* m_Parent;
	vector<CEditor*> 

void AddChild(EditorUI* _UI);
EditorUI* GetParent() { return m_Parent; }

const vector<EditorUI*>& GetChildren() { return m_vecChildUI; }
```

1) ë³¸ì¸ì´ ìµœìƒìœ„ ë¶€ëª¨ì¸ ê²½ìš° â†’ Begin, End í˜¸ì¶œ

2) ìì‹ íƒ€ì… UIì¸ ê²½ìš° â†’ BeginChild, EndChild í˜¸ì¶œ

Updateë¥¼ í†µí•´ UIì˜ ë‚´ìš©ì„ ì±„ìš°ëŠ” ì‘ì—…ì„ ì‹¤í–‰

```cpp
void EditorUI::tick()
{
	
}
```

ê·¸ë¦¬ê³  ì´ë•Œ í•´ë‹¹ UIê°€ ìì‹ UIë¥¼ ì§€ë‹ˆê³  ìˆë‹¤ë©´ ì‹¤í–‰í•´ì¤˜ì„œ ê³„ì¸µêµ¬ì¡°ê°€ ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰ë˜ë„ë¡ Tickì„ ë˜ í˜¸ì¶œí•´ì¤˜ì•¼ í•œë‹¤

```cpp

```

`ImGui::Separator()` â†’ êµ¬ë¶„ì„  ê°™ì€ ì¡´ì¬! 

ì´ë¥¼ í™œìš©í•´ì„œ, ë¶€ëª¨-ìì‹ì˜ ê³„ì¸µ ê´€ê³„ë¥¼ í…ŒìŠ¤íŠ¸í•´ë³´ê¸° ìœ„í•´ì„œ

í•œë²ˆ Inspectorë¥¼ ë¶€ëª¨ë¡œ, Contentë¥¼ ìì‹ìœ¼ë¡œ ë§Œë“¤ì–´ ì¶œë ¥í•´ë³´ì

```cpp
void CEditorMgr::CreateEditorUI()
{
	EditorUI* pUI = nullptr;
	
	// Inspector
	pUI = new Insepctor;
	pUI->SetName("Inspector");
}
```

ë¶€ëª¨ UIë“¤ì´ ìì‹ì„ ì§€ë‹ˆê³  ìˆì„ ê²½ìš°ì—, ìì‹ ì´ ì†Œìœ í•˜ê³  ìˆëŠ” ìì‹ì— ëŒ€í•œ Deleteë¥¼ í˜¸ì¶œí•´ì¤˜ì•¼ í•œë‹¤

â†’ `Delete_Vec(m_vecChildUI);`

### ê°™ì€ í´ë˜ìŠ¤ì˜ UI (ì´ë¦„ì´ ê°™ì€ UI)ë¥¼ ì—¬ëŸ¬ê°œ ìƒì„±í•˜ëŠ” ê²½ìš°

UIì˜ ì´ë¦„ì´ ê²¹ì¹˜ëŠ” ê²½ìš°ê°€ ë°œìƒí•  ê°€ëŠ¥ì„±ì´ ìˆë‹¤

â†’ ë³´ì—¬ì§€ëŠ” ì´ë¦„ê³¼ ì‹¤ì œ IDë¡œ ì‚¬ìš©í•˜ëŠ” ë¬¸ìì—´ì„ ë‹¤ë¥´ê²Œ êµ¬í˜„í•´ì£¼ê¸°

ì¦‰, ìœˆë„ìš°ì—ì„œ í‘œì‹œë˜ëŠ” Title ì´ë¦„ì€ ë™ì¼í•˜ê²Œ í•˜ë˜, ë‚´ë¶€ì ìœ¼ë¡œ ì €ì¥ë˜ëŠ” ì´ë¦„ì€ ë‹¤ë¥´ê²Œ í•¨ìœ¼ë¡œì¨ â†’  Titleë§Œ ê°™ê³ , ë‚´ë¶€ì ìœ¼ë¡œëŠ” ê°™ì€ ìœˆë„ìš°ë¡œ íŒë³„ë˜ì§€ ì•Šë„ë¡ êµ¬í˜„

ê°ì²´ë¥¼ ìƒì„±í•  ë•Œë§ˆë‹¤, ë’¤ì— ë³´ì´ì§€ ì•ŠëŠ” ì¶”ê°€ ë¬¸ìì—´ì„ ì¶”ê°€í•´ êµ¬ë¶„í•´ì£¼ë„ë¡ í•˜ì

```cpp
class CEditorUI
{
private:
	static UINT m_GlobalID;
	// ...
	string m_FullName;
	const UINT m_ID;
}
```

```cpp
UINT EditorUI::m_GlobalID = 0;

```

```cpp
void EditorUI::SetName(const string& _Name)
{
	m_Nmae = _Name;
	
	// ID ë¬¸ìì—´ ìƒì„±
	string strID = m_Name;
	char szNum[50] = {};
	_itoa_s(m_Id, szNum, 10);
	
	// Titleì´ ë Œë”ë§ë  ë•Œì—ëŠ” ## ë’¤ì˜ ìˆ«ìê°€ ìƒëµëœë‹¤
	strID = strID + "##" + szNum;
}
```

```cpp
EditorUI::Tick()
{
	if (!m_Active)
		return;
	
	if (m_Parent == nullptr)
	{
		ImGui::Begin(strID.c_str(), &m_Active);
	}
```

mapì— ì €ì¥ë˜ëŠ” keyê°’ë„ í•´ë‹¹ FullName(Name + ID)ì´ ì €ì¥ë  ìˆ˜ ìˆë„ë¡